# PythonProjects/pygame/ascii/
**Requires pygame.**
*Pygame ASCII display? A slightly bulky tileset.*

Check the example file _pygame_gescii.py_ to see example or scroll below for commented version.

Check the **pygame docs:** [here](https://www.pygame.org/docs/)

## *gescii.py*
- *TileSetConfig* **(custom)** : loads in a reference dictionary to get items from a tileset.
  - **_custom_** takes an argument for which tileset to load. Currently only *DWARF_FORTRESS* is available.
- *ASCIIPanel* **(windowWidth, windowHeight, title, tileset_image, tile_width, tile_height, tscfg)** : create the pygame master window for the ASCII tileset display.
  - **_windowWidth_** x **_windowHeight_**, window size in tiles
  - **_title_** title for the window
  - **_tileset_image_** image file for tileset
  - **_tile_width_** x **_tile_height_**, tile size
  - **_tscfg_** config for tileset- can be generated by _TileSetConfig_

### *ASCIIPanel* class
_All colours in format (r, g, b)_
- `clamp(in_, min, max)` : clamps a value **in_** between **min** and **max**, if the value is between min/max the value returns unchanged.
- `deltatime(init_ = False)` : returns deltatime of frame, use **init_** to true before loop to initiate the deltatime.
- `fps(deltatime, fps_color)` : generates and creates render of fps from **deltatime** in Arial with colour **fps_color**. Can be rendered with *on_debug()*.
- `on_debug(x, y, surface)` : render on the screen at **x, y** the **surface**. e.g. `master.on_debug(5, 5, master.fps(deltatime, (255, 0, 0))`
- `texture(x, y, texture)` : renders **texture** dict at **x, y**, see dict example below.
```python
{
  "chars" : [ # Each line of the texture as seperate strings
    ".:.:", ":.:.", ".:.:"
  ], 
  "color" : [ # The colour of every character as the applicable color symbol
    "GRGR", "RGRG", "GRGR"
  ], 
  "colormap" : { # Color symbol to actual RGB
    "G" : (0, 255, 0), # green!
    "R" : (255, 0, 0)   red!
  }
}
```
- `char(x, y, char, rgb)` : places the character **char** at **x, y** colorized to **rgb**
- `check_exit()` : check for pygame program close (not very well made, the user should probably do this themselves instead of iterating through `pygame.event.get()` twice.
- `clear()` : clears the screen to black
- `update()` : flips the screen (renders everything and proceeds to next frame)

## Example Program
```python
import gescii, os, random, pygame

# Generate tile reference for DWARF_FORTRESS
tileset_cfg = gescii.TileSetConfig("DWARF_FORTRESS") 

# Create master to render upon of size 64x32 with 16x16 tiles and set /8x8_pixel_tileset_transparent.png/ and /tileset_cfg/
master = gescii.ASCIIPanel(64, 32, "GESCII Test Window", "8x8_pixel_tileset_transparent.png", 16, 16, tileset_cfg)
active = True

# Initiate texture for grass
grass_texture = {
    "chars" : [
        ".;\',", ",,.,", "\"..,", ".,,;"
    ],
    "color" : [
        "GGGG", "GGGG", "GGGG", "GGGG"
    ],
    "colormap" : {"G" : (0, 255, 0)}
}

# Randomly generate tree locations
tree_rand = [(random.randint(0, master.windowWidth), random.randint(0, master.windowHeight)) for k in range(15, 30)]

# Initiate deltatime
master.deltatime(True)

# Loop
while active:
    deltatime = master.deltatime() # Update deltatime for this frame
    master.check_exit() # Check for quit
    master.clear() # Clear the display

    for event in pygame.event.get(): # Check for events
        if event.type == pygame.KEYDOWN: # Keydown
            if event.key == pygame.Z: # if 'z' randomize the tree locations
                tree_rand = [(random.randint(0, master.windowWidth), random.randint(0, master.windowHeight)) for k in range(15, 30)]
    
    # Render the textures onto the screen
    for i in range(int(master.windowWidth / len(grass_texture['chars'][0]))):
        for j in range(int(master.windowHeight / len(grass_texture['chars']))):
            master.texture(i * 4, j * 4, grass_texture)
    
    # Render the Trees onto the screen
    for t in tree_rand:
        master.char(t[0], t[1], "$|#|", (0, 0, 0))
        master.char(t[0], t[1], "0", (139,69,19))
    
    # Create and render the FPS counter into the top-left
    fps_debug = master.fps(deltatime, (255, 255, 255))
    master.on_debug(16, 8, fps_debug)
    
    # Update the screen
    master.update()

```
